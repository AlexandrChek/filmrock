{"version":3,"file":"js/455.3515bab8.js","mappings":"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","sources":["webpack://filmrock/./src/views/RegistrationView.vue","webpack://filmrock/./src/views/RegistrationView.vue?8b3d"],"sourcesContent":["<template>\r\n    <LineHeader class=\"text-center\">Registration</LineHeader>\r\n    <div class=\"d-flex justify-content-center\">\r\n        <form>\r\n            <div class=\"mb-3\">\r\n                <label for=\"userName\">User name</label>\r\n                <InputReg type=\"text\" id=\"userName\" @enterValue=\"updateUserName\"/>\r\n                <p class=\"prompt\">Not less than 3 symbols</p>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <label for=\"password\">Password</label>\r\n                <InputReg type=\"password\" id=\"password\" @focus=\"showModalName\" @enterValue=\"updatePassword\"/>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <label for=\"password2\">Password (again)</label>\r\n                <InputReg type=\"password\" id=\"password2\" @enterValue=\"updatePassword2\"/>\r\n            </div>\r\n            <button class=\"btn btn-danger my-3\" @click.prevent=\"register\">Register</button>\r\n        </form>\r\n    </div>\r\n    <div class=\"d-flex justify-content-center mt-5 mb-3\">\r\n        <AdvertPlace></AdvertPlace>\r\n    </div>\r\n    <ModalInfo v-if=\"modalNameShort\" @pressclose=\"closeModalNameShort\">\r\n        The length of your user name must be not less than 3 (three) symbols!\r\n    </ModalInfo>\r\n    <ModalInfo v-if=\"modalNameUsed\" @pressclose=\"closeModalNameUsed\">\r\n        This name is already in use by another user. Try another, please!\r\n    </ModalInfo>\r\n    <ModalInfo v-if=\"modalPasswordZero\" @pressclose=\"closeModalPassword\">\r\n        Enter your password, please!\r\n    </ModalInfo>\r\n    <ModalInfo v-if=\"modalPassword2\" @pressclose=\"closeModalPassword2\">\r\n        Your passwords in both fields must be identical!\r\n    </ModalInfo>\r\n</template>\r\n\r\n<script>\r\nimport LineHeader from '../components/LineHeader.vue'\r\nimport InputReg from '../components/InputReg.vue'\r\nimport ModalInfo from '../components/ModalInfo.vue'\r\nimport AdvertPlace from '../components/AdvertPlace.vue'\r\nimport { getDatabase, ref, set, onValue } from \"firebase/database\"\r\n\r\nexport default {\r\n    name: 'RegistrationViev',\r\n    components: {\r\n        LineHeader,\r\n        InputReg,\r\n        ModalInfo,\r\n        AdvertPlace\r\n    },\r\n    data () {\r\n        return {\r\n            modalNameShort: false,\r\n            modalNameUsed: false,\r\n            modalPasswordZero: false,\r\n            modalPassword2: false,\r\n            userName: '',\r\n            password: '',\r\n            password2: '',\r\n            stopCheking: false\r\n        }\r\n    },\r\n    methods: {\r\n        updateUserName (value) {\r\n            this.userName = value\r\n        },\r\n        updatePassword (value) {\r\n            this.password = value\r\n        },\r\n        updatePassword2 (value) {\r\n            this.password2 = value\r\n        },\r\n        showModalName () {\r\n            if (this.userName.length < 3) {\r\n                this.modalNameShort = true\r\n            } else {\r\n                const db = getDatabase()\r\n                const usersObj = ref(db, 'users/')\r\n                onValue(usersObj, (snapshot) => {\r\n                    let finalObj = snapshot.val()\r\n                    let usersArr = Object.values(finalObj)\r\n                    if (this.stopCheking === false) {\r\n                        for (let i = 0; i < usersArr.length; i++) {\r\n                            if (this.userName === usersArr[i].userName) {\r\n                                this.modalNameUsed = true\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        closeModalNameShort () {\r\n            this.modalNameShort = false\r\n            let userNameEl = document.querySelector('#userName')\r\n            userNameEl.focus()\r\n        },\r\n        closeModalNameUsed () {\r\n            this.modalNameUsed = false\r\n            let userNameEl = document.querySelector('#userName')\r\n            userNameEl.focus()\r\n        },\r\n        closeModalPassword () {\r\n            this.modalPasswordZero = false\r\n        },\r\n        closeModalPassword2 () {\r\n            this.modalPassword2 = false\r\n        },\r\n        register () {\r\n            if (this.password.length < 1) {\r\n                this.modalPasswordZero = true\r\n            } else if (this.password !== this.password2) {\r\n                this.modalPassword2 = true\r\n            } else {\r\n                this.stopCheking = true\r\n                const db = getDatabase()\r\n                let userName = this.userName\r\n                let password = this.password\r\n                set(ref(db, 'users/' + userName), {userName, password})\r\n                localStorage.setItem('user', userName)\r\n                this.$store.state.user = userName\r\n                this.$router.push('/')\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nform {\r\n    width: 40%;\r\n    margin-top: 3vw;\r\n}\r\nlabel {\r\n    color: #1dda2c;\r\n    margin: 5px;\r\n    font-weight: 550;\r\n}\r\n.prompt {\r\n    font-size: 13px;\r\n    color: #1dda2c;\r\n}\r\n@media (max-width: 991px) {\r\n    form {\r\n        width: 50%;\r\n    }\r\n}\r\n@media (max-width: 767px) {\r\n    label {\r\n        margin: 3px;\r\n    }\r\n}\r\n@media (max-width: 575px) {\r\n    form {\r\n        width: 68%;\r\n    }\r\n    label {\r\n        font-size: 3.5vw;\r\n    }\r\n}\r\n</style>","import { render } from \"./RegistrationView.vue?vue&type=template&id=69d3c1b8&scoped=true\"\nimport script from \"./RegistrationView.vue?vue&type=script&lang=js\"\nexport * from \"./RegistrationView.vue?vue&type=script&lang=js\"\n\nimport \"./RegistrationView.vue?vue&type=style&index=0&id=69d3c1b8&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Саша\\\\Фронт-енд\\\\filmrock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69d3c1b8\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createVNode","_component_LineHeader","_hoisted_3","_component_InputReg","type","id","onEnterValue","$options","_hoisted_4","_hoisted_6","onFocus","_hoisted_8","onClick","_component_AdvertPlace","$data","_createBlock","_component_ModalInfo","onPressclose","name","components","LineHeader","InputReg","ModalInfo","AdvertPlace","data","modalNameShort","modalNameUsed","modalPasswordZero","modalPassword2","userName","password","password2","stopCheking","methods","updateUserName","value","this","updatePassword","updatePassword2","showModalName","length","db","getDatabase","usersObj","ref","onValue","snapshot","finalObj","val","usersArr","Object","values","i","closeModalNameShort","userNameEl","document","querySelector","focus","closeModalNameUsed","closeModalPassword","closeModalPassword2","register","set","localStorage","setItem","$store","state","user","$router","push","__exports__","render"],"sourceRoot":""}
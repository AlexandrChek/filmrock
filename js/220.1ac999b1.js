"use strict";(self["webpackChunkfilmrock"]=self["webpackChunkfilmrock"]||[]).push([[220],{4220:function(e,s,o){o.r(s),o.d(s,{default:function(){return Z}});var t=o(3396),r=o(7139);const a={class:"pt-md-4 pt-2 login-view"},n={class:"d-flex justify-content-center"};function l(e,s,o,l,i,d){const c=(0,t.up)("FormLogin"),u=(0,t.up)("ModalInfo"),m=(0,t.up)("GoToReg"),h=(0,t.up)("AdvertPlace");return(0,t.wg)(),(0,t.iD)("div",a,[(0,t.Wm)(c,{onProblem:d.showModal},null,8,["onProblem"]),i.modalShown?((0,t.wg)(),(0,t.j4)(u,{key:0,onPressclose:d.closeModal},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(i.modalMessage),1)])),_:1},8,["onPressclose"])):(0,t.kq)("",!0),(0,t.Wm)(m),(0,t._)("div",n,[(0,t.Wm)(h)])])}var i=o(9242);const d=e=>((0,t.dD)("data-v-5bca2fcc"),e=e(),(0,t.Cn)(),e),c={class:"d-flex justify-content-center mb-4"},u={class:"mb-3"},m=d((()=>(0,t._)("label",{for:"userName"},"User name",-1))),h={class:"mb-3"},g=d((()=>(0,t._)("label",{for:"password"},"Password",-1)));function p(e,s,o,r,a,n){const l=(0,t.up)("InputReg");return(0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("form",null,[(0,t._)("div",u,[m,(0,t.Wm)(l,{type:"text",id:"userName",onEnterValue:n.saveUserName},null,8,["onEnterValue"])]),(0,t._)("div",h,[g,(0,t.Wm)(l,{type:"password",id:"password",onEnterValue:n.savePassword},null,8,["onEnterValue"])]),(0,t._)("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=(0,i.iM)(((...e)=>n.logInUser&&n.logInUser(...e)),["prevent"]))}," Log In ")])])}o(7658);var w=o(1849),v=o(1178),f={name:"FormLogin",components:{InputReg:w.Z},data(){return{userName:"",password:""}},methods:{saveUserName(e){this.userName=e},savePassword(e){this.password=e},logInUser(){if(this.userName&&this.password){const e=(0,v.N8)();(0,v.U2)((0,v.iH)(e,"users/"+this.userName)).then((e=>{const s=e.val();s.password===this.password?(localStorage.setItem("user",this.userName),this.$store.state.user=this.userName,this.$router.push("/")):this.$emit("problem","wrongUser")})).catch((e=>{e&&this.$emit("problem","wrongUser")}))}else this.$emit("problem","noUserOrPassword")}}},b=o(89);const _=(0,b.Z)(f,[["render",p],["__scopeId","data-v-5bca2fcc"]]);var I=_,M=o(6442);const U=e=>((0,t.dD)("data-v-90a654ec"),e=e(),(0,t.Cn)(),e),k={class:"d-flex justify-content-center align-items-center go-to-reg"},N=U((()=>(0,t._)("p",null,"If you have no an account, you should register.",-1)));function P(e,s,o,r,a,n){return(0,t.wg)(),(0,t.iD)("div",k,[N,(0,t._)("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=(...e)=>n.goToRegistration&&n.goToRegistration(...e))}," Registration ")])}var y={name:"GoToReg",methods:{goToRegistration(){this.$router.push("/registration")}}};const R=(0,b.Z)(y,[["render",P],["__scopeId","data-v-90a654ec"]]);var $=R,C=o(1734),T={name:"LogIn",components:{FormLogin:I,ModalInfo:M.Z,GoToReg:$,AdvertPlace:C.Z},mounted(){this.$store.state.showMainFooter=!1},unmounted(){this.$store.state.showMainFooter=!0},data(){return{modalShown:!1,modalMessage:""}},methods:{showModal(e){"wrongUser"===e?this.modalMessage="Wrong username or password. Correct them or register, please!":"noUserOrPassword"===e&&(this.modalMessage="Enter both username and password, please!"),this.modalShown=!0},closeModal(){this.modalShown=!1}}};const W=(0,b.Z)(T,[["render",l],["__scopeId","data-v-bb73ee68"]]);var Z=W}}]);
//# sourceMappingURL=220.1ac999b1.js.map
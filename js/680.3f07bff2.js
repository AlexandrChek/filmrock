"use strict";(self["webpackChunkfilmrock"]=self["webpackChunkfilmrock"]||[]).push([[680],{5680:function(e,s,o){o.r(s),o.d(s,{default:function(){return W}});var t=o(3396),r=o(7139);const n={class:"pt-md-4 pt-2 login-view"},a={class:"d-flex justify-content-center"};function l(e,s,o,l,i,d){const u=(0,t.up)("FormLogin"),c=(0,t.up)("ModalInfo"),m=(0,t.up)("GoToReg"),g=(0,t.up)("AdvertPlace");return(0,t.wg)(),(0,t.iD)("div",n,[(0,t.Wm)(u,{onProblem:d.showModal},null,8,["onProblem"]),i.modalShown?((0,t.wg)(),(0,t.j4)(c,{key:0,onPressclose:d.closeModal},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(i.modalMessage),1)])),_:1},8,["onPressclose"])):(0,t.kq)("",!0),(0,t.Wm)(m),(0,t._)("div",a,[(0,t.Wm)(g)])])}var i=o(9242);const d=e=>((0,t.dD)("data-v-945f7cb2"),e=e(),(0,t.Cn)(),e),u={class:"d-flex justify-content-center mb-4"},c={class:"mb-3"},m=d((()=>(0,t._)("label",{for:"userName"},"User name",-1))),g={class:"mb-3"},h=d((()=>(0,t._)("label",{for:"password"},"Password",-1)));function p(e,s,o,r,n,a){const l=(0,t.up)("InputReg");return(0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("form",null,[(0,t._)("div",c,[m,(0,t.Wm)(l,{type:"text",id:"userName",onEnterValue:a.saveUserName},null,8,["onEnterValue"])]),(0,t._)("div",g,[h,(0,t.Wm)(l,{type:"password",id:"password",onEnterValue:a.savePassword},null,8,["onEnterValue"])]),(0,t._)("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=(0,i.iM)(((...e)=>a.logInUser&&a.logInUser(...e)),["prevent"]))}," Log In ")])])}o(7658);var w=o(9589),v=o(1178),f={name:"FormLogin",components:{InputReg:w.Z},data(){return{userName:"",password:""}},methods:{saveUserName(e){this.userName=e},savePassword(e){this.password=e},logInUser(){if(this.userName&&this.password){const e=(0,v.N8)(),s=(0,v.iH)(e,"users/");(0,v.jM)(s,(e=>{const s=e.val(),o=Object.values(s);for(let t=0;t<o.length;t++)o[t].userName===this.userName&&o[t].password===this.password?(localStorage.setItem("user",this.userName),this.$store.state.user=this.userName,this.$router.push("/")):t===o.length-1&&this.$emit("problem","wrongUser")}))}else this.$emit("problem","noUserOrPassword")}}},b=o(89);const _=(0,b.Z)(f,[["render",p],["__scopeId","data-v-945f7cb2"]]);var I=_,M=o(4144);const N=e=>((0,t.dD)("data-v-746c9d37"),e=e(),(0,t.Cn)(),e),k={class:"d-flex justify-content-center align-items-center go-to-reg"},P=N((()=>(0,t._)("p",null,"If you have no an account, you should register.",-1)));function U(e,s,o,r,n,a){return(0,t.wg)(),(0,t.iD)("div",k,[P,(0,t._)("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=(...e)=>a.goToRegistration&&a.goToRegistration(...e))}," Registration ")])}var y={name:"GoToReg",methods:{goToRegistration(){this.$router.push("/registration")}}};const R=(0,b.Z)(y,[["render",U],["__scopeId","data-v-746c9d37"]]);var C=R,$=o(1729),j={name:"LogIn",components:{FormLogin:I,ModalInfo:M.Z,GoToReg:C,AdvertPlace:$.Z},mounted(){this.$store.state.showMainFooter=!1},unmounted(){this.$store.state.showMainFooter=!0},data(){return{modalShown:!1,modalMessage:""}},methods:{showModal(e){"wrongUser"===e?this.modalMessage="Wrong username or password. Correct them or register, please!":"noUserOrPassword"===e&&(this.modalMessage="Enter both username and password, please!"),this.modalShown=!0},closeModal(){this.modalShown=!1}}};const T=(0,b.Z)(j,[["render",l],["__scopeId","data-v-50c961b5"]]);var W=T}}]);
//# sourceMappingURL=680.3f07bff2.js.map
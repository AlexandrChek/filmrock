"use strict";(self["webpackChunkfilmrock"]=self["webpackChunkfilmrock"]||[]).push([[776],{6776:function(s,e,a){a.r(e),a.d(e,{default:function(){return v}});var o=a(3396),t=a(9242);const r=s=>((0,o.dD)("data-v-aa1f886a"),s=s(),(0,o.Cn)(),s),l={class:"d-flex justify-content-center"},d={class:"mb-3"},n=r((()=>(0,o._)("label",{for:"userName"},"User name",-1))),u=r((()=>(0,o._)("p",{class:"prompt"},"Not less than 3 symbols",-1))),m={class:"mb-3"},i=r((()=>(0,o._)("label",{for:"password"},"Password",-1))),c={class:"mb-3"},h=r((()=>(0,o._)("label",{for:"password2"},"Password (again)",-1))),w={class:"d-flex justify-content-center mt-5 mb-3"};function p(s,e,a,r,p,f){const N=(0,o.up)("LineHeader"),P=(0,o.up)("InputReg"),g=(0,o.up)("AdvertPlace"),k=(0,o.up)("ModalInfo");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(N,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)("Registration")])),_:1}),(0,o._)("div",l,[(0,o._)("form",null,[(0,o._)("div",d,[n,(0,o.Wm)(P,{type:"text",id:"userName",onEnterValue:f.updateUserName},null,8,["onEnterValue"]),u]),(0,o._)("div",m,[i,(0,o.Wm)(P,{type:"password",id:"password",onFocus:f.showModalName,onEnterValue:f.updatePassword},null,8,["onFocus","onEnterValue"])]),(0,o._)("div",c,[h,(0,o.Wm)(P,{type:"password",id:"password2",onEnterValue:f.updatePassword2},null,8,["onEnterValue"])]),(0,o._)("button",{class:"btn btn-danger my-3",onClick:e[0]||(e[0]=(0,t.iM)(((...s)=>f.register&&f.register(...s)),["prevent"]))},"Register")])]),(0,o._)("div",w,[(0,o.Wm)(g)]),p.modalNameShort?((0,o.wg)(),(0,o.j4)(k,{key:0,onPressclose:f.closeModalNameShort},{default:(0,o.w5)((()=>[(0,o.Uk)(" The length of your user name must be not less than 3 (three) symbols! ")])),_:1},8,["onPressclose"])):(0,o.kq)("",!0),p.modalNameUsed?((0,o.wg)(),(0,o.j4)(k,{key:1,onPressclose:f.closeModalNameUsed},{default:(0,o.w5)((()=>[(0,o.Uk)(" This name is already in use by another user. Try another, please! ")])),_:1},8,["onPressclose"])):(0,o.kq)("",!0),p.modalPasswordZero?((0,o.wg)(),(0,o.j4)(k,{key:2,onPressclose:f.closeModalPassword},{default:(0,o.w5)((()=>[(0,o.Uk)(" Enter your password, please! ")])),_:1},8,["onPressclose"])):(0,o.kq)("",!0),p.modalPassword2?((0,o.wg)(),(0,o.j4)(k,{key:3,onPressclose:f.closeModalPassword2},{default:(0,o.w5)((()=>[(0,o.Uk)(" Your passwords in both fields must be identical! ")])),_:1},8,["onPressclose"])):(0,o.kq)("",!0)],64)}a(7658);var f=a(9788),N=a(2494),P=a(1393),g=a(1652),k=a(1178),b={name:"RegistrationViev",components:{LineHeader:f.Z,InputReg:N.Z,ModalInfo:P.Z,AdvertPlace:g.Z},data(){return{modalNameShort:!1,modalNameUsed:!1,modalPasswordZero:!1,modalPassword2:!1,userName:"",password:"",password2:"",stopCheking:!1}},methods:{updateUserName(s){this.userName=s},updatePassword(s){this.password=s},updatePassword2(s){this.password2=s},showModalName(){if(this.userName.length<3)this.modalNameShort=!0;else{const s=(0,k.N8)(),e=(0,k.iH)(s,"users/");(0,k.jM)(e,(s=>{let e=s.val(),a=Object.values(e);if(!1===this.stopCheking)for(let o=0;o<a.length;o++)this.userName===a[o].userName&&(this.modalNameUsed=!0)}))}},closeModalNameShort(){this.modalNameShort=!1;let s=document.querySelector("#userName");s.focus()},closeModalNameUsed(){this.modalNameUsed=!1;let s=document.querySelector("#userName");s.focus()},closeModalPassword(){this.modalPasswordZero=!1},closeModalPassword2(){this.modalPassword2=!1},register(){if(this.password.length<1)this.modalPasswordZero=!0;else if(this.password!==this.password2)this.modalPassword2=!0;else{this.stopCheking=!0;const s=(0,k.N8)();let e=this.userName,a=this.password;(0,k.t8)((0,k.iH)(s,"users/"+e),{userName:e,password:a}),localStorage.setItem("user",e),this.$store.state.user=e,this.$router.push("/")}}}},y=a(89);const _=(0,y.Z)(b,[["render",p],["__scopeId","data-v-aa1f886a"]]);var v=_}}]);
//# sourceMappingURL=776.753b715d.js.map